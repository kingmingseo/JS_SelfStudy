# 동기와 비동기 Blocking과 Non-Blocking

작성일시: 2024년 1월 24일 오후 6:01
복습: No

## Blocking VS Non-Blocking

Blocking : 자신의 작업을 진행하다가 다른 주체의 작업이 시작되면 다른 작업이 끝날 때까지 **기다렸다**가 자신의 작업을 시작하는 것

Non-Blocking : 다른 주체의 작업에 관련 없이 자신의 작업을 하는 것

예시를 들어보자.

Blocking이라는 상사에게 서류를 전달해야한다.
Blcoking상사는 서류를 받고 자신이 다 볼 때까지 앞에서 기다리라고 한다.
나는 그러면 다른 일을 할 수 없다.

Non-Blocking이라는 상사에게 서류를 전달해야한다
Non-Blocking상사는 서류를 받고 직원에게 말한다 “읽어 볼테니까 자리로 가서 일해라”
나는 그럼 그동안 다른 일을 할 수 있다

## Synchronous(동기) VS Asynchronous(비동기)

Synchronous : 작업을 동시에 수행하거나, 동시에 끝나거나, **끝나는 동시에 시작**함 을 의미

Asynchronous : 시작, 종료가 일치하지 않으며, **끝나는 동시에 시작하지 않음**을 의미

회사로 예시를 들어보자

Synchronous 상사에게 서류를 전달한다. 
Synchronous 상사는 Blocking, NonBlocking 상사와 다르게 내가 기다리거나 다른일 을 해도 상관하지 않는다.
Synchronous 상사가 서류를 다 읽어보고 결과를 돌려주면 나는 그 결과를 바탕으로 바로 다시 일을 시작한다.

Asynchronous 상사에게 서류를 전달한다.
Asynchronous 상사도 마찬가지로 Blocking, NonBlocking 상사와 다르게 내가 기다리거나 다른일을 해도 상관하지 않는다.
ASynchronous 상사가 서류를 다 읽어보고 결과를 돌려주면 나는 그 결과를 바탕으로 바로 다시 일을 시작하지 않고 하고 싶을 때 일을 시작하면 된다.

**동기 비동기는 결과에 관심이 있다!**

**블로킹 논 블로킹은 제어권에 관심이 있다!**

**그렇다면 4가지 조합에 대해서 알아보자** 

**Blocking+Sync** 

Blocking+Sync 상사에게 서류를 전달했다.
Blocking+Sync 상사는 자신이 서류를 다 읽을 때 까지 앞에서 기다리라고 한다.(Blokcing) 개념
나는 Blocking 상사가 서류를 다 읽고 해줄 말에 대해 관심을 가지며 기다리고 있는다. 
결과를 받고 바로 일을 시작한다.

예시 : 자바에서 입력요청을 제어권이 넘어가고 나의 입력에 관심을 가지며 기다리고있는다. 내가 결과를 입력하면 바로 다시 코드가 진행된다.

**NonBlocking+Sync** 

NonBlocking+Sync 상사에게 서류를 전달했다.
NonBlocking+Sync 상사는 나에게 다른 업무를 봐도 괜찮다고 한다.
하지만 Sync는 결과를 받고 일을 바로 시작해야한다는 강박관념이 생겼다 그래서
중간중 상사에게 와서 서류 검토 완료 됐나요? 라고 계속해서 물어본다.
서류 검토가 안끝났으면 나를 다시 돌려보내고 끝났으면 결과를 말해준다.
나는 결과를 바탕으로 일을 한다.
Blocking+Sync와 크게 차이가 없다

예시 : 게임에서 맵을 넘어갈 때를 예시로 들 수 있다.
해당 데이터를 가져올 때 유저에게 정보의 로드율이 얼마인지 보여주기 위해 사용된다

**Blocking+Async** 

Blocking+Async 상사에게 서류를 전달했다.
Blocking+Async 상사는 서류를 검토하면서 앞에서 기다리라고한다.
하지만 나는 이 결과에 별로 관심이 없는데도 불구하고 상사 앞에서 결과를 기다리고 있는다. 상사는 메일로 이 결과를 보내준다.
나는 돌아가서 하고싶을 때 이 결과를 통해서 일을 처리한다.
주로 Blocking+Async는 개발자의 실수로 혹은 기타이유로 위와 같이 동작한다

**NonBlocking+Async** 

NonBlocking+Async 상사에게 서류를 전달했다.
상사는 사원에게 돌아가서 다른 일을 해도 좋다고 한다.
상사는 서류를 다 읽고 메일을 통해서 결과를 보내준다.
사원은 나중에 메일을 확인하고 일을 처리한다.

예시 : 자바스크립트에서 API요청을 하고 다른 작업을 하다가 콜백을 통해서 추가적인 작업을 할 때 사용된다 

참고영상 : [https://www.youtube.com/watch?v=oEIoqGd-Sns](https://www.youtube.com/watch?v=oEIoqGd-Sns)